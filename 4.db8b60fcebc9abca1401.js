(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{jkDv:function(t,e,a){"use strict";a.r(e),a.d(e,"AdminModule",function(){return I});var i=a("tyNb"),n=a("ofXK"),o=a("fXoL"),c=a("H+bZ"),b=a("/t3+"),l=a("bTqV"),d=a("NFeN"),s=a("XhcP"),r=a("MutI"),u=a("FKr1");let p=(()=>{class t{constructor(t){this.api=t,this.mode="side",this.menu=[{name:"Dashboard",icon:"dashboard",url:"/admin/dashboard"},{group:"Menu Group",children:[]}]}ngOnInit(){this.checkLogin()}checkLogin(){this.api.get("bookswithauth/status").subscribe(t=>{},t=>{this.router.navigate(["/login"])})}logout(){confirm("Keluar aplikasi?")&&(localStorage.removeItem("appToken"),window.location.reload())}}return t.\u0275fac=function(e){return new(e||t)(o.Nb(c.a))},t.\u0275cmp=o.Hb({type:t,selectors:[["app-admin"]],decls:30,vars:9,consts:[["color","primary",1,"example-header"],["mat-icon-button","",3,"click"],[1,"uk-width-expand"],["mat-button","",3,"click"],[1,"example-container"],["opened","",1,"sidenav-left",3,"mode","position","fixedInViewport","fixedTopGap","fixedBottomGap"],["sidenav",""],["routerLink","/admin/dashboard"],["matListIcon",""],["matLine",""],["routerLink","/admin/product"],["mode","side",1,"example-sidenav",3,"position","fixedInViewport","fixedTopGap","fixedBottomGap"],[2,"padding","20px","background-color","#ccc"]],template:function(t,e){if(1&t){const t=o.Ub();o.Rb(0),o.Tb(1,"mat-toolbar",0),o.Tb(2,"button",1),o.ac("click",function(){return o.rc(t),o.pc(14).toggle()}),o.Tb(3,"mat-icon"),o.yc(4,"menu"),o.Sb(),o.Sb(),o.Tb(5,"span"),o.yc(6,"My Angular"),o.Sb(),o.Ob(7,"div",2),o.Tb(8,"small"),o.yc(9,"Admin"),o.Sb(),o.Tb(10,"button",3),o.ac("click",function(){return e.logout()}),o.yc(11,"Logout"),o.Sb(),o.Sb(),o.Tb(12,"mat-sidenav-container",4),o.Tb(13,"mat-sidenav",5,6),o.Tb(15,"mat-nav-list"),o.Tb(16,"mat-list-item",7),o.Tb(17,"mat-icon",8),o.yc(18,"dashboard"),o.Sb(),o.Tb(19,"h3",9),o.yc(20,"Dashboard"),o.Sb(),o.Sb(),o.Tb(21,"mat-list-item",10),o.Tb(22,"mat-icon",8),o.yc(23,"camera_enhance"),o.Sb(),o.Tb(24,"h3",9),o.yc(25,"Products"),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Ob(26,"mat-sidenav",11,6),o.Tb(28,"mat-sidenav-content",12),o.Ob(29,"router-outlet"),o.Sb(),o.Sb(),o.Qb()}2&t&&(o.Cb(13),o.kc("mode",e.mode),o.jc("position","start")("fixedInViewport",!0)("fixedTopGap",60)("fixedBottomGap",0),o.Cb(13),o.jc("position","end")("fixedInViewport",!0)("fixedTopGap",60)("fixedBottomGap",0))},directives:[b.a,l.a,d.a,s.b,s.a,r.d,r.b,i.b,r.a,u.j,s.c,i.d],styles:[".example-container[_ngcontent-%COMP%]{position:absolute;top:60px;bottom:0;left:0;right:0}.example-sidenav[_ngcontent-%COMP%]{width:350px}.example-sidenav[_ngcontent-%COMP%], .sidenav-left[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sidenav-left[_ngcontent-%COMP%]{width:250px}"]}),t})(),h=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Hb({type:t,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(t,e){1&t&&(o.Tb(0,"p"),o.yc(1,"dashboard works!"),o.Sb())},styles:[""]}),t})();var g=a("w55g"),m=a("0IaG");let f=(()=>{class t{constructor(t,e){this.api=t,this.dialogRef=e}ngOnInit(){}onFileChange(t){t.target.files.length>0&&(this.selectedFile=t.target.files[0],console.log(this.selectedFile))}uploadFile(){let t=new FormData;t.append("file",this.selectedFile),this.loadingUpload=!0,this.api.upload(t).subscribe(t=>{this.updateProduct(t)},t=>{this.loadingUpload=!1,alert("Gagal mengunggah file")})}updateProduct(t){1==t.status?(alert("File berhasil diunggah"),this.loadingUpload=!1,this.dialogRef.close()):alert(t.message)}}return t.\u0275fac=function(e){return new(e||t)(o.Nb(c.a),o.Nb(m.g))},t.\u0275cmp=o.Hb({type:t,selectors:[["app-file-uploader"]],decls:13,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"uk-flex","uk-flex-middle","uk-flex-center",2,"height","100px","outline","2px dashed #ccc","margin","10px",3,"click"],["type","file","id","file",2,"display","none",3,"change"],["fileInput",""],["mat-dialog-action","","align","right"],["mat-button","","mat-dialog-close","",2,"margin-right","5px"],["mat-flat-button","","color","primary",3,"click"]],template:function(t,e){if(1&t){const t=o.Ub();o.Tb(0,"h1",0),o.yc(1,"Unggah File"),o.Sb(),o.Tb(2,"div",1),o.Tb(3,"div",2),o.ac("click",function(){return o.rc(t),o.pc(7).click()}),o.Tb(4,"span"),o.yc(5),o.Sb(),o.Sb(),o.Tb(6,"input",3,4),o.ac("change",function(t){return e.onFileChange(t)}),o.Sb(),o.Sb(),o.Tb(8,"div",5),o.Tb(9,"button",6),o.yc(10,"Batal"),o.Sb(),o.Tb(11,"button",7),o.ac("click",function(){return e.uploadFile()}),o.yc(12," Unggah dan Simpan "),o.Sb(),o.Sb()}2&t&&(o.Cb(5),o.zc(e.selectedFile?e.selectedFile.name:"Pilih File"))},directives:[m.h,m.e,l.a,m.d],styles:[""]}),t})();var T=a("kmnG"),S=a("qFsG"),k=a("3Pt+");let y=(()=>{class t{constructor(t,e,a){this.dialogRef=t,this.data=e,this.api=a}ngOnInit(){}saveData(){this.loading=!0,null==this.data.id?this.api.post("books",this.data).subscribe(t=>{this.dialogRef.close(t),this.loading=!1},t=>{alert(t),this.loading=!1}):this.api.post("books/"+this.data.id,this.data).subscribe(t=>{this.loading=!1,this.dialogRef.close(t)},t=>{alert(t),this.loading=!1})}}return t.\u0275fac=function(e){return new(e||t)(o.Nb(m.g),o.Nb(m.a),o.Nb(c.a))},t.\u0275cmp=o.Hb({type:t,selectors:[["app-product-detail"]],decls:30,vars:7,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["appearance","outline",2,"width","100%"],["matInput","",3,"ngModel","ngModelChange"],["matInput","","type","number",3,"ngModel","ngModelChange"],["mat-dialog-actions","","align","end"],["mat-button","","mat-dialog-close",""],["mat-flat-button","",3,"disabled","click"]],template:function(t,e){1&t&&(o.Tb(0,"p"),o.yc(1,"product-detail works!"),o.Sb(),o.Tb(2,"h3",0),o.yc(3,"Detail Produk"),o.Sb(),o.Tb(4,"div",1),o.Tb(5,"mat-form-field",2),o.Tb(6,"mat-label"),o.yc(7,"Judul"),o.Sb(),o.Tb(8,"input",3),o.ac("ngModelChange",function(t){return e.data.title=t}),o.Sb(),o.Sb(),o.Tb(9,"mat-form-field",2),o.Tb(10,"mat-label"),o.yc(11,"Penulis"),o.Sb(),o.Tb(12,"input",3),o.ac("ngModelChange",function(t){return e.data.author=t}),o.Sb(),o.Sb(),o.Tb(13,"mat-form-field",2),o.Tb(14,"mat-label"),o.yc(15,"Penerbit"),o.Sb(),o.Tb(16,"input",3),o.ac("ngModelChange",function(t){return e.data.publisher=t}),o.Sb(),o.Sb(),o.Tb(17,"mat-form-field",2),o.Tb(18,"mat-label"),o.yc(19,"ISBN"),o.Sb(),o.Tb(20,"input",3),o.ac("ngModelChange",function(t){return e.data.isbn=t}),o.Sb(),o.Sb(),o.Tb(21,"mat-form-field",2),o.Tb(22,"mat-label"),o.yc(23,"Harga"),o.Sb(),o.Tb(24,"input",4),o.ac("ngModelChange",function(t){return e.data.price=t}),o.Sb(),o.Sb(),o.Sb(),o.Tb(25,"div",5),o.Tb(26,"button",6),o.yc(27,"Batal"),o.Sb(),o.Tb(28,"button",7),o.ac("click",function(){return e.saveData()}),o.yc(29),o.Sb(),o.Sb()),2&t&&(o.Cb(8),o.jc("ngModel",e.data.title),o.Cb(4),o.jc("ngModel",e.data.author),o.Cb(4),o.jc("ngModel",e.data.publisher),o.Cb(4),o.jc("ngModel",e.data.isbn),o.Cb(4),o.jc("ngModel",e.data.price),o.Cb(4),o.jc("disabled",e.loading),o.Cb(1),o.Ac(" ",e.loading?"Menyimpan..":"Simpan"," "))},directives:[m.h,m.e,T.b,T.e,S.b,k.c,k.j,k.l,k.m,m.c,l.a,m.d],styles:[""]}),t})();var x=a("Xa2L"),v=a("Wp6s");function C(t,e){1&t&&(o.Tb(0,"div",2),o.Ob(1,"mat-spinner"),o.Sb())}function w(t,e){if(1&t){const t=o.Ub();o.Tb(0,"tr"),o.Tb(1,"td"),o.yc(2),o.Sb(),o.Tb(3,"td"),o.yc(4),o.Sb(),o.Tb(5,"td"),o.yc(6),o.Sb(),o.Tb(7,"td"),o.yc(8),o.Sb(),o.Tb(9,"td"),o.yc(10),o.Sb(),o.Tb(11,"td"),o.yc(12),o.Sb(),o.Tb(13,"td",7),o.Tb(14,"button",9),o.ac("click",function(){o.rc(t);const a=e.$implicit,i=e.index;return o.ec(2).productDetail(a,i)}),o.yc(15," Edit "),o.Sb(),o.Tb(16,"button",9),o.ac("click",function(){o.rc(t);const a=e.$implicit;return o.ec(2).uploadFile(a)}),o.yc(17," Upload "),o.Sb(),o.Tb(18,"button",10),o.ac("click",function(){o.rc(t);const a=e.index;return o.ec(2).deleteProduct(a)}),o.yc(19),o.Sb(),o.Sb(),o.Sb()}if(2&t){const t=e.$implicit,a=e.index,i=o.ec(2);o.Cb(2),o.zc(a+1),o.Cb(2),o.zc(t.title),o.Cb(2),o.zc(t.author),o.Cb(2),o.zc(t.publisher),o.Cb(2),o.zc(t.year),o.Cb(2),o.zc(t.price),o.Cb(6),o.jc("disabled",i.loadingDelete[a]),o.Cb(1),o.Ac(" ",i.loadingDelete[a]?"Menghapus..":"Delete"," ")}}function M(t,e){if(1&t){const t=o.Ub();o.Tb(0,"mat-card"),o.Tb(1,"mat-card-header"),o.Tb(2,"mat-card-title"),o.yc(3),o.Sb(),o.Sb(),o.Tb(4,"mat-card-content"),o.Tb(5,"div",3),o.Ob(6,"span",4),o.Tb(7,"button",5),o.ac("click",function(){return o.rc(t),o.ec().productDetail({},-1)}),o.yc(8," Tambah Produk "),o.Sb(),o.Sb(),o.Tb(9,"table",6),o.Tb(10,"thead"),o.Tb(11,"th"),o.yc(12,"No"),o.Sb(),o.Tb(13,"th"),o.yc(14,"Judul"),o.Sb(),o.Tb(15,"th"),o.yc(16,"Penulis"),o.Sb(),o.Tb(17,"th"),o.yc(18,"Penerbit"),o.Sb(),o.Tb(19,"th"),o.yc(20,"Tahun Terbit"),o.Sb(),o.Tb(21,"th"),o.yc(22,"ISBN"),o.Sb(),o.Tb(23,"th"),o.yc(24,"Harga"),o.Sb(),o.Tb(25,"th",7),o.yc(26,"#"),o.Sb(),o.Sb(),o.Tb(27,"tbody"),o.xc(28,w,20,8,"tr",8),o.Sb(),o.Sb(),o.Sb(),o.Sb()}if(2&t){const t=o.ec();o.Cb(3),o.zc(t.title),o.Cb(25),o.jc("ngForOf",t.books)}}const F=[{path:"",component:p,children:[{path:"dashboard",component:h},{path:"product",component:(()=>{class t{constructor(t,e){this.dialog=t,this.api=e,this.book={},this.books=[],this.loadingDelete={}}ngOnInit(){this.title="product",this.book={title:"Angular untuk Pemula",author:"Farid Suryanto",publisher:"Sunhouse Digital",year:2020,isbn:"8298377474",price:7e4},this.getBooks()}getBooks(){this.loading=!0,this.api.get("books").subscribe(t=>{this.books=t,this.loading=!1},t=>{this.loading=!1,alert("Tidak dapat mengambil data")})}productDetail(t,e){this.dialog.open(y,{width:"400px",data:t}).afterClosed().subscribe(a=>{a&&(-1==e?this.books.push(a):this.books[e]=t)})}deleteProduct(t){confirm("Delete item?")&&(this.loadingDelete[t]=!0,this.api.delete("books/"+this.books[t].id).subscribe(e=>{this.books.splice(t,1),this.loadingDelete[t]=!1},e=>{alert("Tidak dapat menghapus data"),this.loadingDelete[t]=!1}))}uploadFile(t){this.dialog.open(f,{width:"400px",data:t}).afterClosed().subscribe(t=>{})}}return t.\u0275fac=function(e){return new(e||t)(o.Nb(m.b),o.Nb(c.a))},t.\u0275cmp=o.Hb({type:t,selectors:[["app-product"]],decls:2,vars:2,consts:[["style","height: 300px","class","uk-flex uk-flex-center uk-flex-middle",4,"ngIf"],[4,"ngIf"],[1,"uk-flex","uk-flex-center","uk-flex-middle",2,"height","300px"],[1,"uk-flex"],[1,"uk-width-expand"],["mat-flat-button","","color","primary",3,"click"],[1,"uk-table","uk-table-middle","uk-table-divider"],["align","right"],[4,"ngFor","ngForOf"],["mat-button","","color","primary",3,"click"],["mat-button","","color","warn",3,"disabled","click"]],template:function(t,e){1&t&&(o.xc(0,C,2,0,"div",0),o.xc(1,M,29,2,"mat-card",1)),2&t&&(o.jc("ngIf",e.loading),o.Cb(1),o.jc("ngIf",!e.loading))},directives:[n.k,x.b,v.a,v.c,v.e,v.b,l.a,n.j],styles:[""]}),t})()},{path:"",pathMatch:"full",redirectTo:"./dashboard"}]}];let I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Lb({type:t}),t.\u0275inj=o.Kb({imports:[[n.c,i.c.forChild(F),g.a,k.f]]}),t})()}}]);